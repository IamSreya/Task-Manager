<!DOCTYPE html>
<html lang="en">
	<head>
		<meta charset="UTF-8" />
		<meta name="viewport" content="width=device-width, initial-scale=1.0" />
		<title>Document</title>
		<script src="https://cdn.tailwindcss.com"></script>
		<link
			href="https://fonts.googleapis.com/css2?family=Playfair+Display:wght@600&display=swap"
			rel="stylesheet" />
		<style>
			.font-playfair {
				font-family: "Playfair Display", serif;
			}
		</style>
	</head>
	<body>
		<nav class="bg-zinc-800 text-white px-6 py-4 shadow-md">
			<h1
				class="text-2xl font-bold tracking-tight text-blue-400 text-center font-playfair">
				Task Manager
			</h1>
		</nav>

		<div class="main w-full min-h-screen bg-zinc-900">
			<div class="form p-10 text-white">
				<form action="/create" method="post">
					<input
						class="block px-5 py-2 bg-zinc-700 rounded-md outline-none w-full"
						type="text"
						placeholder="Title"
						name="title" />
					<textarea
						class="block mt-2 px-5 py-2 resize-none bg-zinc-700 rounded-md outline-none w-full"
						placeholder="Write your task..."
						name="details"></textarea>
					<input
						class="mt-2 bg-blue-600 px-5 py-2 hover:cursor-pointer"
						type="submit"
						value="Create Task" />
				</form>
			</div>

			<div class="tasks flex gap-5 flex-wrap p-10">
				<% if (files.length > 0) { %> <% files.forEach(function(val){ %>
				<div class="task w-72 px-3 py-4 rounded-md bg-zinc-800 flex flex-col justify-between min-h-[180px]">
					<h1 class="text-2xl text-white tracking-tighter break-words">
						<%= val.replace('.txt', '') %>
					</h1>

					<div class="mt-3 justify-between items-center space-x-4">
                        
                            <a href="/file/<%= val %>" class="text-blue-400 hover:underline"
							>Read More...</a
						>
						<a href="/edit/<%= val %>" class="text-yellow-400 hover:underline"
							>Edit</a
						>
                        
						<a
							href="/delete/<%= val %>"
							class="text-red-500 flex items-center gap-1 hover:underline"
							onclick="return confirm('Are you sure you want to delete this task?');">
							<svg
								xmlns="http://www.w3.org/2000/svg"
								fill="none"
								viewBox="0 0 24 24"
								stroke-width="1.5"
								stroke="currentColor"
								class="w-5 h-5">
								<path
									stroke-linecap="round"
									stroke-linejoin="round"
									d="M6 18L18 6M6 6l12 12" />
							</svg>
							Delete
						</a>
					</div>
				</div>
				<% }) %> <% } else { %>
				<h3 class="text-white font-bold">No tasks yet....</h3>
				<% } %>
			</div>
		</div>
	</body>
</html>
